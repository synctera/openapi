components:
  schemas:

    disclosure:
      title: Disclosure
      type: object
      description: Represents a disclosure
      properties:
        id:
          type: string
          format: uuid
          description: Disclosure ID
          example: faker.random.uuid
        type:
          description: Disclosure Type
          type: string
          enum: [ REG_DD, KYC_DATA_COLLECTION, REG_E ]
          example: REG_DD
        version:
          description: Disclosure Version
          type: string
          example: "1.1"
        timestamp:
          description: Date of disclosure
          type: string
          format: date-time
          example: "2021-05-01T23:59:59Z"
        creation_time:
          type: string
          format: date-time
          readOnly: true
          example: "2021-05-01T23:59:59Z"
        last_updated_time:
          type: string
          format: date-time
          readOnly: true
          example: "2021-05-01T23:59:59Z"
        event_type:
          type: string
          enum: [ DISPLAYED, VIEWED, ACKNOWLEDGED ]
          example: VIEWED
      required:
        - type
        - version
        - timestamp
        - event_type

    disclosure_list:
      allOf:
        - type: object
          required:
            - disclosures
          properties:
            disclosures:
              type: array
              description: Array of disclosures
              items:
                $ref: '#/components/schemas/disclosure'
        - $ref: '../common/schemas.yml#/components/schemas/paginated_response'

    disclosure_response:
      title: List of Customer Disclosures
      type: object
      description: Represents all customer disclosures
      properties:
        disclosures:
          description: List of the customer's disclosures
          type: array
          items:
            $ref: "#/components/schemas/disclosure"

    disclosure_assignment:
      title: Disclosure Assignments
      type: object
      description: Represents a disclosure assignments
      properties:
        bank_id:
          description: ID of the bank
          type: integer
          minimum: 1
          example: faker.random.number(1000)
        partner_id:
          description: ID of the partner
          type: integer
          minimum: 1
          example: faker.random.number(1000)
        type:
          description: Disclosure Type
          type: string
          example: REG_DD
        version:
          description: Disclosure Version
          type: string
          example: "1.1"
        activity_flow_type_id:
          description: Process type ID (needs to include settlement event flows per condition group)
          type: string
        data_key:
          description: Unique object ID (customer, account)
          type: string
          format: uuid
          example: faker.random.uuid
        account_template_code:
          description: Account Template Code
          type: string
        account_template_version:
          description: Account Template Version
          type: string
          example: "1.1"
        all_parties:
          description: Indicates for AND and for OR accounts, if only 1 account holder or all account holders have to be informed
          type: boolean
        creation_time:
          type: string
          format: date-time
          readOnly: true
          example: "2021-05-01T23:59:50Z"
        last_updated_time:
          type: string
          format: date-time
          readOnly: true
          example: "2021-05-01T23:59:50Z"

    disclosure_assignment_list:
      allOf:
        - type: object
          required:
            - disclosure_assignments
          properties:
            disclosure_assignments:
              type: array
              description: Array of Disclosures
              items:
                $ref: '#/components/schemas/disclosure_assignment'
        - $ref: '../common/schemas.yml#/components/schemas/paginated_response'

    disclosure_master:
      title: Disclosure Master
      type: object
      description: Represents a disclosure master
      properties:
        bank_id:
          description: ID of the bank
          type: integer
          minimum: 1
          example: faker.random.number(1000)
        partner_id:
          description: ID of the partner
          type: integer
          minimum: 1
          example: faker.random.number(1000)
        type:
          description: Disclosure Type
          type: string
          example: REG_DD
        version:
          description: Disclosure Version
          type: string
          example: "1.1"
        creation_time:
          type: string
          format: date-time
          readOnly: true
          example: "2021-05-01T23:59:50Z"
        last_updated_time:
          type: string
          format: date-time
          readOnly: true
          example: "2021-05-01T23:59:50Z"

    disclosure_master_list:
      allOf:
        - type: object
          required:
            - disclosure_masters
          properties:
            disclosure_masters:
              type: array
              description: Array of Disclosures
              items:
                $ref: '#/components/schemas/disclosure_master'
        - $ref: '../common/schemas.yml#/components/schemas/paginated_response'